<?xml version="1.0" encoding="UTF-8"?>
<markdown text-escaper-version="1.0" encoding="UTF-8" has-bom="false" html-processing-enabled="true"
          replaceEntities="true">
    <syntax suffix="&#xa;">---</syntax>
    <paragraph suffix="&#xa;">title: API Extensions
        position: 6
        layout: documentation
        meta:
        title:
        description:
    </paragraph>
    <syntax suffix="&#xa;">---</syntax>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">The HubRise API can be extended in two ways:</paragraph>
    <blank-line suffix="&#xa;"/>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">
            <emphasis prefix="**" suffix="**">Custom fields</emphasis>
            let you attach arbitrary data to existing resources. For instance, you could add a <code-span prefix="`"
                                                                                                          suffix="`">
            tracking_url
        </code-span> field to orders.
        </paragraph>
        <blank-line suffix="&#xa;"/>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="">
        <paragraph suffix="&#xa;">
            <emphasis prefix="**" suffix="**">Custom endpoints</emphasis>
            let you create new endpoints in the API and bind them to 3rd party services. For instance, you could bind a
            cloud printing service to a location, so that calling <code-span prefix="`" suffix="`">POST
            /location/orders/bd1f2/:print
        </code-span> would actually print the <code-span prefix="`" suffix="`">bd1f2</code-span> order
        </paragraph>
        <blank-line suffix="&#xa;"/>
        <paragraph suffix="&#xa;">Extensions let clients implement use cases not natively supported by the API.
        </paragraph>
        <blank-line suffix="&#xa;"/>
        <paragraph suffix="&#xa;">The HubRise development team monitors how extensions are used in an effort to document
            and "standardize" the most common fields and endpoints. You can <html>&lt;ContactFormToggle text="contact
                us" /&gt;
            </html> to discuss about your use case and see if it could fit into existing and well supported extensions.
        </paragraph>
        <blank-line suffix="&#xa;"/>
    </list-item>
    <syntax suffix="## "/>
    <heading>1. Custom Fields</heading>
    <syntax suffix="&#xa;"/>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">Custom fields can be defined on the following resources:</paragraph>
    <blank-line suffix="&#xa;"/>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">
            <code-span prefix="`" suffix="`">Customer</code-span>
        </paragraph>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">
            <code-span prefix="`" suffix="`">Order</code-span>
        </paragraph>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">
            <code-span prefix="`" suffix="`">Location</code-span>
        </paragraph>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="">
        <paragraph suffix="&#xa;">
            <code-span prefix="`" suffix="`">Sku</code-span>
        </paragraph>
        <blank-line suffix="&#xa;"/>
        <paragraph suffix="&#xa;">Each resource of the above types has a <code-span prefix="`" suffix="`">
            custom_fields
        </code-span> field, which can be populated with arbitrary data.
        </paragraph>
        <blank-line suffix="&#xa;"/>
        <paragraph suffix="&#xa;">The field is retrieved in <code-span prefix="`" suffix="`">GET</code-span> operations
            upon the resources, and is updated with <code-span prefix="`" suffix="`">POST</code-span>, <code-span
                    prefix="`" suffix="`">PUT
            </code-span> or <code-span prefix="`" suffix="`">PATCH</code-span> operations.
        </paragraph>
        <blank-line suffix="&#xa;"/>
    </list-item>
    <syntax suffix="### "/>
    <heading>1.1. Example Workflow</heading>
    <syntax suffix="&#xa;"/>
    <blank-line suffix="&#xa;"/>
    <fenced-code-block>
        <syntax suffix="&#xa;">```http</syntax>
        <paragraph suffix="&#xa;">POST /location/orders
            {
            "status": "new",
            "custom_fields": {
            "tracking_url": "https://order.tracking.com/orders/664578",
            "delivery_out": "2020-03-19T19:25:00+02:00"
            }
            }
        </paragraph>
        <syntax suffix="&#xa;">```</syntax>
    </fenced-code-block>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">This request creates a new order, with 2 custom fields.</paragraph>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">Now let's modify the custom fields:</paragraph>
    <blank-line suffix="&#xa;"/>
    <fenced-code-block>
        <syntax suffix="&#xa;">```http</syntax>
        <paragraph suffix="&#xa;">PUT /location/orders/bd1f2
            {
            "custom_fields": {
            "tracking_url": "https://order.tracking.com/orders/664579",
            "delivery_out": null,
            "timeout": "1800"
            }
            }
        </paragraph>
        <syntax suffix="&#xa;">```</syntax>
    </fenced-code-block>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">This request:</paragraph>
    <blank-line suffix="&#xa;"/>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">updates the value of the <code-span prefix="`" suffix="`">tracking_url</code-span> custom
            field to ...664579 (instead of 664578)
        </paragraph>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="  ">
        <paragraph suffix="&#xa;">removes the <code-span prefix="`" suffix="`">delivery_out</code-span> custom field
        </paragraph>
    </list-item>
    <list-item first-line-prefix="- " line-prefix="">
        <paragraph suffix="&#xa;">adds a new <code-span prefix="`" suffix="`">timeout</code-span> custom field to the
            order
        </paragraph>
        <blank-line suffix="&#xa;"/>
        <paragraph suffix="&#xa;">Now if you retrieve the same order:</paragraph>
        <blank-line suffix="&#xa;"/>
    </list-item>
    <fenced-code-block>
        <syntax suffix="&#xa;">```http</syntax>
        <paragraph suffix="&#xa;">GET /location/orders/bd1f2
            -&gt;
            {
            ...,
            "custom_fields": {
            "tracking_url": "https://order.tracking.com/orders/664579",
            "timeout": "1800"
            }
            }
        </paragraph>
        <syntax suffix="&#xa;">```</syntax>
    </fenced-code-block>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">Custom fields work in the same way on orders, customers and locations.</paragraph>
    <blank-line suffix="&#xa;"/>
    <syntax suffix="### "/>
    <heading>1.2. Data Constraints</heading>
    <syntax suffix="&#xa;"/>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">A custom field can be of any type. You can even pass JSON objects as values:</paragraph>
    <blank-line suffix="&#xa;"/>
    <fenced-code-block>
        <syntax suffix="&#xa;">```http</syntax>
        <paragraph suffix="&#xa;">PUT /customer_lists/map4g/customers/g56qf
            {
            "custom_fields": {
            "position": {
            "latitude": "48.8697246",
            "longitude": "2.3061506"
            }
            }
            }
        </paragraph>
        <syntax suffix="&#xa;">```</syntax>
    </fenced-code-block>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">In other words, <code-span prefix="`" suffix="`">custom_fields</code-span> just has to be
        a JSON object.
    </paragraph>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">The only limitation is the size: the JSON representation of <code-span prefix="`"
                                                                                                     suffix="`">
        custom_fields
    </code-span> must not exceed 8 kilobytes.
    </paragraph>
    <blank-line suffix="&#xa;"/>
    <syntax suffix="### "/>
    <heading>1.3. Callbacks</heading>
    <syntax suffix="&#xa;"/>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">Custom fields work nicely with
        <link-text prefix="[" suffix="]">callbacks</link-text>
        <url prefix="(" suffix=")">/developers/api/callbacks</url>. Updating the custom fields of a resource triggers
        the update callback of the resource.
    </paragraph>
    <blank-line suffix="&#xa;"/>
    <syntax suffix="## "/>
    <heading>2. Custom Endpoints</heading>
    <syntax suffix="&#xa;"/>
    <blank-line suffix="&#xa;"/>
    <paragraph suffix="&#xa;">Coming soon</paragraph>
    <blank-line suffix=""/>
</markdown>